https://github.com/mitmproxy/mitmproxy/tree/master/examples/simple
-> examplex for scripts that can induce some kind of chaos

the plan is to use the transparent functionality of mitmproxy and install it as a daemonset on all nodes.
then the target containers have to be configured to have http and https proxy over mitmproxy-pod on their node.
if https is used, certificates have to be installed on the target container, otherwise it will not trust the proxy.
this could be done via configmap.

https://docs.mitmproxy.org/stable/tools-mitmdump/ is the CLI tool for the proxy. idea: setup proxy pod and run
a script with mitmdump -s script.py

sidecar pod -somehow- adds iptables rules to target container:
https://github.com/danisla/kubernetes-tproxy/tree/master/sidecar

for starting a docker container with a proxy:
args:
  - "-http_proxy=mitmproxy"

change the default gateway on linux:
ip route del default 
ip route add default via 192.168.130.3
